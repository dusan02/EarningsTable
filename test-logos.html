<!DOCTYPE html>
<html>
<head>
    <title>Logo Test</title>
</head>
<body>
    <h1>Logo Test</h1>
    <div id="logos"></div>
    
    <script>
        async function testLogos() {
            try {
                const response = await fetch('http://localhost:5555/api/final-report');
                const data = await response.json();
                
                const logosDiv = document.getElementById('logos');
                
                data.data.forEach(item => {
                    const div = document.createElement('div');
                    div.style.margin = '10px';
                    div.style.padding = '10px';
                    div.style.border = '1px solid #ccc';
                    
                    div.innerHTML = `
                        <h3>${item.symbol} - ${item.name}</h3>
                        <p>Logo URL: ${item.logoUrl}</p>
                        <p>Logo Source: ${item.logoSource}</p>
                        ${item.logoUrl ? 
                            `<img src="${item.logoUrl}" alt="${item.symbol} logo" style="width: 64px; height: 64px; border: 1px solid red;" onerror="this.style.border='3px solid red'; this.alt='FAILED TO LOAD';">` :
                            '<p style="color: red;">No logo URL</p>'
                        }
                    `;
                    
                    logosDiv.appendChild(div);
                });
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('logos').innerHTML = '<p style="color: red;">Error: ' + error.message + '</p>';
            }
        }
        
        testLogos();
    </script>
</body>
</html>
